# Enable Rewrite Engine
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /

  # Allow access to the public directory and other static files
  RewriteCond %{REQUEST_FILENAME} -f [OR]
  RewriteCond %{REQUEST_FILENAME} -d
  RewriteRule ^ - [L]

  # Redirect all other requests to index.html
  RewriteRule ^ /index.html [L]
</IfModule>

# Allow access to hidden files and deny access to the sensitive server directories
<Files .htaccess>
  Order Allow,Deny
  Allow from all
</Files>

# Security Headers (Optional, for added security)
<IfModule mod_headers.c>
  Header always append X-Frame-Options SAMEORIGIN
  Header set X-Content-Type-Options nosniff
  Header set X-XSS-Protection "1; mode=block"
</IfModule>

# Handle CORS (Cross-Origin Resource Sharing) (Optional, use if your app requires it)
<IfModule mod_headers.c>
  Header set Access-Control-Allow-Origin "*"
  Header set Access-Control-Allow-Methods "GET,POST,OPTIONS,DELETE,PUT"
  Header set Access-Control-Allow-Headers "Content-Type"
</IfModule>

# Fallback for index.html in case there's a 404 or access error
ErrorDocument 404 /index.html
ErrorDocument 403 /index.html
